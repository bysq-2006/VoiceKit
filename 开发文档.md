# 语音助手 - 开发文档

> 本文档用于理解项目架构，同时作为 AI 开发基准提示词。
## 项目概述

一个基于 Tauri + Vue3 的桌面语音助手应用，核心设计理念：**所有业务逻辑都在后端处理，前端仅用于配置和显示**。




## 核心原则
```
┌─────────────────────────────────────────────────────────┐
│  前端 (Frontend)                                         │
│  ├── 仅负责 UI 渲染                                      │
│  ├── 仅负责用户交互事件上报                               │
│  └── 通过 invoke 调用后端命令，通过 event 监听后端状态     │
├─────────────────────────────────────────────────────────┤
│  后端 (Backend)                                          │
│  ├── 监控全局快捷键 (Global Shortcut)                    │
│  ├── 管理录音状态                                        │
│  ├── 调用语音转文字 API                                   │
│  ├── 模拟键盘输入到当前焦点                               │
│  └── 管理配置存储 (Store)                                │
└─────────────────────────────────────────────────────────┘
```




## 状态流转
```
用户按下快捷键 (如 Shift+E)
        ↓
后端: Global Shortcut Handler 触发
        ↓
后端: toggle_recording()
        ↓
后端: 更新 AppState.is_recording
        ↓
后端: 发送事件 recording-state-changed → 前端
        ↓
前端: UI 更新 (麦克风按钮动画)
        ↓
后端: 开始录音 → 调用豆包 API → 模拟键盘输入结果
        ↓
用户再次按下快捷键 或 点击关闭按钮
        ↓
后端: 停止录音，隐藏窗口
```
